<div class="wrapper wrapper-content">

  <div class="row">
    <div class="ibox float-e-margins">
      <div class="ibox-title">
        <h5>Service Initializer</h5>
      </div>

    </div>
  </div>

  <div class="row">

    <div class="col-lg-4">
      <div class="ibox">
        <div class="ibox-content">
          <h3>Service Flow</h3>
          <p class="small"><i class="fa fa-hand-o-up"></i> Drag task between list</p>

          <div class="form-group">
            <input type="text" placeholder="SERVICE NAME" [(ngModel)]="serviceName" class="form-control">
          </div>

          <div class="form-group">
            <select name="" id="" class="form-control" [(ngModel)]="blockType" (change)="addNewBlock()">
              <option value="" selected="selected">-SELECT-</option>
              <option *ngFor="let item of data" [ngValue]="item">{{item.name}}</option>
            </select>
          </div>

          <ul class="sortable-list connectList agile-list ui-sortable">

            <!--mainJson-->

            <li *ngFor="let node of nodeList" class="success-element" cdkDrag>
              <div class="row" (click)="onNodeClick(node.id)">
                <div class="col-sm-2" style="font-size: 47px;">
                  <i class="{{node.symbol}}"></i>
                </div>
                <div class="col-sm-10">
                  <br>
                  <label>Block Id : </label> {{node.id}}
                  <br>
                  <label>Next Block Id : </label> {{node['next-node']}}
                  <br>
                  <label>Description : </label> {{node.description}}
                  <br>
                  <div class="agile-detail">
                    <a href="#" class="pull-right btn btn-xs btn-white">Mark</a>
                    <i class="fa fa-clock-o"></i> 05.04.2015
                  </div>
                </div>
              </div>

            </li>

          </ul>






          <h4>Transfer custom data in Drag-and-Drop</h4>
          <div class="row">
            <div class="col-sm-12">
              <div class="panel panel-success">
                <div class="panel-heading">Node List</div>
                <div class="panel-body">

                  <img class="assign" src="../../../assets/img/system/BRANCH.png" dnd-draggable [dragEnabled]="true" [dragData]="transferBranchData">
                  <img class="assign" src="../../../assets/img/system/FUNCTION.png" dnd-draggable [dragEnabled]="true" [dragData]="transferFunctionData">
                  <img class="assign" src="../../../assets/img/system/ASSIGN.png" dnd-draggable [dragEnabled]="true" [dragData]="transferAssignData">

                  <img class="assign" src="../../../assets/img/system/BRANCH.png" dnd-draggable [dragEnabled]="true" [dragData]="transferData">
                  <img class="assign" src="../../../assets/img/system/BRANCH.png" dnd-draggable [dragEnabled]="true" [dragData]="transferData">


                  <!--<div class="panel panel-default" dnd-draggable [dragEnabled]="true" [dragData]="transferData">
                    <div class="panel-body assign">
                      <img class="assign" src="../../../assets/img/system/ASSIGN.png">
                    </div>
                  </div>

                  <div class="panel panel-default" dnd-draggable [dragEnabled]="true" [dragData]="transferData">
                    <div class="panel-body assign">
                      <img class="assign" src="../../../assets/img/system/ASSIGN.png">
                    </div>
                  </div>-->

                </div>



              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <div dnd-droppable class="panel panel-info" (onDropSuccess)="transferDataSuccess($event)">
                <div class="panel-heading">Place to drop (Items:{{receivedData.length}})</div>
                <div class="panel-body">
                  <div [hidden]="!receivedData.length > 0" *ngFor="let data of receivedData">

                    <div class="row" (click)="onNodeClick(data.dragData.name)">
                      <div class="col-sm-3">
                      <img class="assign" src="../../../assets/img/system/{{data.dragData.name}}.png" dnd-draggable [dragEnabled]="false" >
                      </div>
                      <div class="col-sm-9">
                        <label> Node Type : {{data.dragData.name}}</label>
                        <br>
                        <label> Node Id : {{data.dragData.id}}</label>
                        <br>
                        <label> Net Node : {{data.dragData.id}}</label>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>









        </div>
        <input type="button" value="Click" (click)="submitJson()" />
      </div>
    </div>

    <div class="col-lg-8">
      <div class="ibox">
        <div class="ibox-content">

          <app-test-drag *ngIf="blockTypeName == 'DRAG'"></app-test-drag>
          <app-service-assign-block *ngIf="blockTypeName == 'ASSIGN'" (schemaData)="nodeData" (assignBlockJson)="createAssignNodeDataObject($event, 'ASSIGN', 'fa fa-terminal')"></app-service-assign-block>
          <app-service-function-block *ngIf="blockTypeName == 'FUNCTION'" (functionBlockJson)="createAssignNodeDataObject($event,'FUNCTION','fa fa-branch')"></app-service-function-block>

        </div>
      </div>
    </div>

  </div>

</div>

